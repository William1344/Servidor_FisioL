<link rel="stylesheet" href="/css/cadastroFisioterapeuta.css" />
<div class="top">
    <h2>Patient Registration</h2>
</div>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.mask/1.14.11/jquery.mask.min.js"></script>

<div class="campo">
    <div class="campo_obrigatorio">
        <label><i style="color: #37bbf8;" class="fas fa-info-circle" aria-hidden="true"></i> Required Fields </label>
    </div>
</div>
<br>

<div class="form">
    <form method="post" action="/cadastro/paciente">
        <div class="container">
            <div class="row">
                <div class="col-sm">
                    <i style="color: #37bbf8;" class="fas fa-info-circle" aria-hidden="true"></i>
                    <label for="name">Name</label>
                    <input name="name" type="text" class="form-control" id="name" placeholder="Enter the name" />
                </div>
                <div class="col-sm">
                    <i style="color: #37bbf8;" class="fas fa-info-circle" aria-hidden="true"></i>
                    <label for="cpf">CPF</label>
                    <input name="cpf" type="number" class="form-control" id="cpf"
                        placeholder="Enter the CPF" />
                </div>
                <div class="col-sm">
                    <i style="color: #37bbf8;" class="fas fa-info-circle" aria-hidden="true"></i>
                    <label for="data_nascimento">Date of birth</label>
                    <input name="data_nascimento" type="date" class="form-control" id="data_nascimento"
                        placeholder="Enter date of birth" />
                </div>
            </div>
            <div class="row">
                <div class="col-sm">
                    <i style="color: #37bbf8;" class="fas fa-info-circle" aria-hidden="true"></i>
                    <label for="sexo">Gender</label>
                    <select name="sexo" class="custom-select my-1 mr-sm-2" id="sexo">
                        <option value="F">Female</option>
                        <option value="M">Male</option>
                    </select>
                </div>
                <div class="col-sm">
                    <i style="color: #37bbf8;" class="fas fa-info-circle" aria-hidden="true"></i>
                    <label for="peso">Weight</label>
                    <input name="peso" type="number" class="form-control" id="peso" placeholder="Enter the weight" />
                </div>
                <div class="col-sm">
                    <i style="color: #37bbf8;" class="fas fa-info-circle" aria-hidden="true"></i>
                    <label for="patologia">Pathology</label>
                    <input name="patologia" type="text" class="form-control" id="patologia"
                        placeholder="Enter the pathology" />
                </div>
            </div>
            <div class="row">
                <div class="col-sm">
                    <i style="color: #37bbf8;" class="fas fa-info-circle" aria-hidden="true"></i>
                    <label for="sus">SUS</label>
                    <input name="sus" type="number" class="form-control" id="sus" placeholder="Enter the SUS" />
                </div>
                <div class="col-sm">
                    <i style="color: #37bbf8;" class="fas fa-info-circle" aria-hidden="true"></i>
                    <label for="fone">Telephone</label>
                    <input name="fone" type="number" class="form-control" id="fone" placeholder="Enter the telephone" />
                </div>
            </div>
            <div class="row">
                <button onclick="saveSuccessfullRequestToLocalStorage()" type="submit" class="btn btn-primary button">
                    Register
                </button>
            </div>
        </div>
    </form>
</div>

<script>
    checkSuccessfullRequest();

    function saveSuccessfullRequestToLocalStorage() {
        localStorage.setItem("_success", true);
    }

    function clearSuccessfullRequest() {
        localStorage.removeItem("_success");
    }

    function checkSuccessfullRequest() {
        const successfullRequest = localStorage.getItem("_success");

        if (successfullRequest) {
            alert("Paciente cadastrado com sucesso!");
            clearSuccessfullRequest();
        }
    }
</script>